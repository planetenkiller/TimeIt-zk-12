<!--[pnpageaddvar name="stylesheet" value="javascript/jscalendar/calendar-win2k-cold-2.css" ]-->
<!--[pnpageaddvar name="javascript" value="javascript/jscalendar/calendar.js" ]-->
<!--[pnpageaddvar name="javascript" value="javascript/jscalendar/lang/calendar-en.js" ]-->
<!--[pnpageaddvar name="javascript" value="javascript/jscalendar/lang/calendar-de.js" ]-->
<!--[pnpageaddvar name="javascript" value="javascript/jscalendar/calendar-setup.js" ]-->

<div id="calendar-container"></div>

<script type="text/javascript">
  function dateChanged(calendar) {
    // Beware that this function is called even if the end-user only
    // changed the month/year.  In order to determine if a date was
    // clicked you can use the dateClicked property of the calendar:
    if (calendar.dateClicked) {
      // OK, a date was clicked, redirect to /yyyy/mm/dd/index.php
      var y = calendar.date.getFullYear();
      var m = calendar.date.getMonth()+1;     // integer, 0..11
      var d = calendar.date.getDate();      // integer, 1..31

      // redirect...
      window.location = "index.php?module=TimeIt&func=view&viewType=day&year="+ y +"&month="+ m +"&day="+ d;
    }
  };



  Calendar.setup(
    {

      flat         : "calendar-container", // ID of the parent element
      flatCallback : dateChanged,          // our callback function
	  firstDay     : <!--[pnml name="_DATEFIRSTWEEKDAY"]-->,	// First Day of Week form define
	  date         : "<!--[$date]-->"  // initial date
    }
  );

</script>

<!--[*pndebug*]-->
